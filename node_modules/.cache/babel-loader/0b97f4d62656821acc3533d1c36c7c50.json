{"ast":null,"code":"import axios from 'axios';\nimport fire from '../fire';\nconst url = 'http://localhost:8080/api';\nexport const addRatingToDb = async (book, rating) => {\n  const header = await createToken();\n  const payload = {\n    book,\n    rating\n  };\n\n  try {\n    const res = await axios.post(url, payload, header);\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n}; // TODO: The following function mirrors the getPHoneBookEntries() funciton in the tutorial. I'm not building it out yet, as I may not need that particular functionality here.\n// export const getRatings = async () => {\n// const header = await\n// }\n\nconst createToken = async () => {\n  const user = fire.auth().currentUser;\n  const token = user && (await user.getIdToken());\n  const payloadHeader = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  };\n  return payloadHeader;\n};","map":{"version":3,"sources":["/Users/jonathanwashington/dev/Side Projects/book-bug-npm/src/services/ratingServices.js"],"names":["axios","fire","url","addRatingToDb","book","rating","header","createToken","payload","res","post","data","e","console","error","user","auth","currentUser","token","getIdToken","payloadHeader","headers","Authorization"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AAEA,MAAMC,GAAG,GAAG,2BAAZ;AAEA,OAAO,MAAMC,aAAa,GAAG,OAAOC,IAAP,EAAaC,MAAb,KAAwB;AACnD,QAAMC,MAAM,GAAG,MAAMC,WAAW,EAAhC;AAEA,QAAMC,OAAO,GAAG;AACdJ,IAAAA,IADc;AAEdC,IAAAA;AAFc,GAAhB;;AAIA,MAAI;AACF,UAAMI,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAN,CAAWR,GAAX,EAAgBM,OAAhB,EAAyBF,MAAzB,CAAlB;AACA,WAAOG,GAAG,CAACE,IAAX;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACD;AACF,CAbM,C,CAeP;AACA;AACE;AACF;;AAEA,MAAML,WAAW,GAAG,YAAY;AAC9B,QAAMQ,IAAI,GAAGd,IAAI,CAACe,IAAL,GAAYC,WAAzB;AACA,QAAMC,KAAK,GAAGH,IAAI,KAAK,MAAMA,IAAI,CAACI,UAAL,EAAX,CAAlB;AAEA,QAAMC,aAAa,GAAG;AACpBC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEPC,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAFxB;AADW,GAAtB;AAMA,SAAOE,aAAP;AACD,CAXD","sourcesContent":["import axios from 'axios';\nimport fire from '../fire';\n\nconst url = 'http://localhost:8080/api';\n\nexport const addRatingToDb = async (book, rating) => {\n  const header = await createToken();\n\n  const payload = {\n    book,\n    rating,\n  }\n  try {\n    const res = await axios.post(url, payload, header);\n    return res.data;\n  } catch (e) {\n    console.error(e);\n  }\n};\n\n// TODO: The following function mirrors the getPHoneBookEntries() funciton in the tutorial. I'm not building it out yet, as I may not need that particular functionality here.\n// export const getRatings = async () => {\n  // const header = await\n// }\n\nconst createToken = async () => {\n  const user = fire.auth().currentUser;\n  const token = user && (await user.getIdToken());\n\n  const payloadHeader = {\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  return payloadHeader;\n}\n"]},"metadata":{},"sourceType":"module"}